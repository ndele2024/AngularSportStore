<div class="container-fluid">
  <div class="row">
    <div class="bg-dark text-white p-2">
      <span class="navbar-brand ml-2">
        SPORTS STORE
        <app-cart-summary />
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3 bg p-2">
      <div class="col-6 p-2">
        <div class="d-grid gap-3">
          <button class="btn btn-outline-primary w-auto" (click)="changeCategory()">
            Home
          </button>
          @for (category of categories; track $index) {
            <button class="btn btn-outline-primary w-100"
                    [class.active]="category == selectedCategory"
                    (click)="changeCategory(category)">
              {{category}}
            </button>
          }
        </div>
      </div>
    </div>
    <div class="col-sm-9 p-2">
      @for (product of products; track product.id){
        <div class="card bg-light-subtle m-1">
          <div class="row p-2">
            <h2 class="col-6">
              {{product.name}}
            </h2>
            <div class="col-6 text-end">
              <span class="badge rounded-pill bg-primary" style="float:right">
                {{ product.price | currency:"USD":"symbol":"2.2-2" }}
              </span>
            </div>
          </div>
          <h4 class="row p-2 bg-white ms-2">
            <div class="col-6 text-start">
              {{product.description}}
            </div>
            <div class="col-6 text-end">
              <button class="btn btn-success btn-sm"
                      (click)="addProductToCart(product)"
              >
                Add To Cart
              </button>
            </div>
          </h4>
        </div>
      }

      <div class="form-inline float-start m-3">
        <select class="form-control" [value]="productsPerPage"
                (change)="changePageSize($any($event).target.value)">
          <option value="3">3 per Page</option>
          <option value="4">4 per Page</option>
          <option value="6">6 per Page</option>
          <option value="8">8 per Page</option>
        </select>
      </div>
      <div class="btn-group float-end m-3">
        @for (page of getPages(); track $index){
          <button class="btn btn-outline-info"
                  [class.active]="page==selectedPage"
                  (click)="changePage(page)">
            {{page}}
          </button>
        }
      </div>

    </div>
  </div>
</div>
